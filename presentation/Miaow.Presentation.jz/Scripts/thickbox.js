/*
 * Thickbox 3.1
*/
var tb_pathToImage = "/images/loadingAnimation.gif";
function tb_init(A){$(A).unbind().click(function(){var B=this.title||this.name||null,C=this.href||this.alt,A=this.rel||false;tb_show(B,C,A);this.blur();return false})}function tb_show(E,J,B){try{if(typeof document.body.style.maxHeight==="undefined"){$("body","html").css({height:"100%",width:"100%"});$("html").css("overflow","hidden");if(document.getElementById("TB_HideSelect")===null){$("body").append("<iframe id='TB_HideSelect'></iframe><div id='TB_overlay'></div><div id='TB_window'></div>");$("#TB_overlay").click(tb_remove)}}else if(document.getElementById("TB_overlay")===null){$("body").append("<div id='TB_overlay'></div><div id='TB_window'></div>");$("#TB_overlay").click(tb_remove)}if(tb_detectMacXFF())$("#TB_overlay").addClass("TB_overlayMacFFBGHack");else $("#TB_overlay").addClass("TB_overlayBG");if(E===null)E="";$("body").append("<div id='TB_load'><img src='"+imgLoader.src+"' /></div>");$("#TB_load").show();var D;if(J.indexOf("?")!==-1)D=J.substr(0,J.indexOf("?"));else D=J;var I=/\.jpg$|\.jpeg$|\.png$|\.gif$|\.bmp$/,H=D.toLowerCase().match(I);if(H==".jpg"||H==".jpeg"||H==".png"||H==".gif"||H==".bmp"){TB_PrevCaption="";TB_PrevURL="";TB_PrevHTML="";TB_NextCaption="";TB_NextURL="";TB_NextHTML="";TB_imageCount="";TB_FoundURL=false;if(B){TB_TempArray=$("a[rel="+B+"]").get();for(TB_Counter=0;((TB_Counter<TB_TempArray.length)&&(TB_NextHTML===""));TB_Counter++){var G=TB_TempArray[TB_Counter].href.toLowerCase().match(I);if(!(TB_TempArray[TB_Counter].href==J)){if(TB_FoundURL){TB_NextCaption=TB_TempArray[TB_Counter].title;TB_NextURL=TB_TempArray[TB_Counter].href;TB_NextHTML="<span id='TB_next' class='hand'>&nbsp;&nbsp;&nbsp;\u4e0b\u4e00\u5f20</span>"}else{TB_PrevCaption=TB_TempArray[TB_Counter].title;TB_PrevURL=TB_TempArray[TB_Counter].href;TB_PrevHTML="<span id='TB_prev' class='hand'>&nbsp;&nbsp;&nbsp;\u4e0a\u4e00\u5f20</span>"}}else{TB_FoundURL=true;TB_imageCount=(TB_Counter+1)+" / "+(TB_TempArray.length)}}}imgPreloader=new Image();imgPreloader.onload=function(){imgPreloader.onload=null;var C=tb_getPageSize(),I=C[0]-150,H=C[1]-150,G=imgPreloader.width,A=imgPreloader.height;if(G>I){A=A*(I/G);G=I;if(A>H){G=G*(H/A);A=H}}else if(A>H){G=G*(H/A);A=H;if(G>I){A=A*(I/G);G=I}}TB_WIDTH=G+30;TB_HEIGHT=A+60;$("#TB_window").append("<a href='' id='TB_ImageOff' title='\u5173\u95ed'><img id='TB_Image' src='"+J+"' width='"+G+"' height='"+A+"' alt='"+E+"'/></a>"+"<div id='TB_caption'>"+E+"<div id='TB_secondLine'>"+TB_imageCount+TB_PrevHTML+TB_NextHTML+"</div></div><div id='TB_closeWindow'><a href='#' id='TB_closeWindowButton' title='\u5173\u95ed'><img src='./images/divclose.gif'></a></div>");$("#TB_closeWindowButton").click(tb_remove);if(!(TB_PrevHTML==="")){function D(){if($(document).unbind("click",D))$(document).unbind("click",D);$("#TB_window").remove();$("body").append("<div id='TB_window'></div>");tb_show(TB_PrevCaption,TB_PrevURL,B);return false}$("#TB_prev").click(D)}if(!(TB_NextHTML==="")){function F(){$("#TB_window").remove();$("body").append("<div id='TB_window'></div>");tb_show(TB_NextCaption,TB_NextURL,B);return false}$("#TB_next").click(F)}document.onkeydown=function(A){if(A==null)keycode=event.keyCode;else keycode=A.which;if(keycode==27)tb_remove();else if(keycode==190){if(!(TB_NextHTML=="")){document.onkeydown="";F()}}else if(keycode==188)if(!(TB_PrevHTML=="")){document.onkeydown="";D()}};tb_position();$("#TB_load").remove();$("#TB_ImageOff").click(tb_remove);$("#TB_window").css({display:"block"})};imgPreloader.src=J}else{var A=J.replace(/^[^\?]+\??/,""),F=tb_parseQuery(A);TB_WIDTH=(F["width"]*1)+30||630;TB_HEIGHT=(F["height"]*1)+40||440;ajaxContentW=TB_WIDTH-30;ajaxContentH=TB_HEIGHT-45;if(J.indexOf("TB_iframe")!=-1){urlNoQuery=J.split("TB_");$("#TB_iframeContent").remove();if(F["modal"]!="true")$("#TB_window").append("<div id='TB_title'><div id='TB_ajaxWindowTitle'>"+E+"</div><div id='TB_closeAjaxWindow'><a href='javascript:;' id='TB_closeWindowButton' title='\u5173\u95ed'></a></div></div><iframe frameborder='0' hspace='0' src='"+urlNoQuery[0]+"' id='TB_iframeContent' name='TB_iframeContent"+Math.round(Math.random()*1000)+"' onload='tb_showIframe()' style='width:"+(ajaxContentW+29)+"px;height:"+(ajaxContentH+17)+"px;' > </iframe>");else{$("#TB_overlay").unbind();$("#TB_window").append("<iframe frameborder='0' hspace='0' src='"+urlNoQuery[0]+"' id='TB_iframeContent' name='TB_iframeContent"+Math.round(Math.random()*1000)+"' onload='tb_showIframe()' style='width:"+(ajaxContentW+29)+"px;height:"+(ajaxContentH+17)+"px;'> </iframe>")}}else if($("#TB_window").css("display")!="block"){if(F["modal"]!="true")$("#TB_window").append("<div id='TB_title'><div id='TB_ajaxWindowTitle'>"+E+"</div><div id='TB_closeAjaxWindow'><a href='javascript:;' id='TB_closeWindowButton' title='\u5173\u95ed'></a></div></div><div id='TB_ajaxContent' style='width:"+ajaxContentW+"px;height:"+ajaxContentH+"px'></div>");else{$("#TB_overlay").unbind();$("#TB_window").append("<div id='TB_ajaxContent' class='TB_modal' style='width:"+ajaxContentW+"px;height:"+ajaxContentH+"px;'></div>")}}else{$("#TB_ajaxContent")[0].style.width=ajaxContentW+"px";$("#TB_ajaxContent")[0].style.height=ajaxContentH+"px";$("#TB_ajaxContent")[0].scrollTop=0;$("#TB_ajaxWindowTitle").html(E)}$("#TB_closeWindowButton").click(tb_remove);if(J.indexOf("TB_inline")!=-1){$("#TB_ajaxContent").append($("#"+F["inlineId"]).children());$("#TB_window").unload(function(){$("#"+F["inlineId"]).append($("#TB_ajaxContent").children())});tb_position();$("#TB_load").remove();$("#TB_window").css({display:"block"})}else if(J.indexOf("TB_iframe")!=-1){tb_position();if($.browser.safari){$("#TB_load").remove();$("#TB_window").css({display:"block"})}}else $("#TB_ajaxContent").load(J+="&random="+(new Date().getTime()),function(){tb_position();$("#TB_load").remove();tb_init("#TB_ajaxContent a.thickbox");$("#TB_window").css({display:"block"})})}if(!F["modal"])document.onkeyup=function(A){if(A==null)keycode=event.keyCode;else keycode=A.which;if(keycode==27)tb_remove()}}catch(C){}}function tb_showIframe(){$("#TB_load").remove();$("#TB_window").css({display:"block"})}function tb_remove(){$("#TB_imageOff").unbind("click");$("#TB_closeWindowButton").unbind("click");$("#TB_window").fadeOut("fast",function(){$("#TB_window,#TB_overlay,#TB_HideSelect").trigger("unload").unbind().remove()});$("#TB_load").remove();if(typeof document.body.style.maxHeight=="undefined"){$("body","html").css({height:"auto",width:"auto"});$("html").css("overflow","")}document.onkeydown="";document.onkeyup="";return false}function tb_position(){$("#TB_window").css({marginLeft:"-"+parseInt((TB_WIDTH/2),10)+"px",width:TB_WIDTH+"px"});if(!(jQuery.browser.msie&&jQuery.browser.version<7))$("#TB_window").css({marginTop:"-"+parseInt((TB_HEIGHT/2),10)+"px"})}function tb_parseQuery(B){var C={};if(!B)return C;var D=B.split(/[;&]/);for(var G=0;G<D.length;G++){var F=D[G].split("=");if(!F||F.length!=2)continue;var E=unescape(F[0]),A=unescape(F[1]);A=A.replace(/\+/g," ");C[E]=A}return C}function tb_getPageSize(){var B=document.documentElement,A=window.innerWidth||self.innerWidth||(B&&B.clientWidth)||document.body.clientWidth,C=window.innerHeight||self.innerHeight||(B&&B.clientHeight)||document.body.clientHeight;arrayPageSize=[A,C];return arrayPageSize}function tb_detectMacXFF(){var A=navigator.userAgent.toLowerCase();if(A.indexOf("mac")!=-1&&A.indexOf("firefox")!=-1)return true}
$(document).ready(function(){
	tb_init('a.thickbox, area.thickbox, input.thickbox');
	imgLoader = new Image();// preload image
	imgLoader.src = tb_pathToImage;
});