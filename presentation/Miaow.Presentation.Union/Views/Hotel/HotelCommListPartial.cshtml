@using Webdiyer.WebControls.Mvc
@model Webdiyer.WebControls.Mvc.PagedList<iPow.Application.Union.Dto.HotelCommDto>
<div class="list_pl" id="CommonList">
    <ul>
        @{
            if (Model != null && Model.Count() > 0)
            {
                foreach (var item in Model)
                {
                    var userId = "user" + item.id;
                    //var ips = item.Ip.Split('.');
                    //var ip = ips[0] + "." + ips[1] + ".*.*";
                    var contentId = "commContent" + item.id.ToString();
            <li><span>
                <img src="/images/face/face1.jpg" width="45" height="45" class="face" />
            </span>
                <div class="pl_Right">
                    <strong>@(item.username)
                    </strong><ins>发表于：@(item.uptime)</ins>
                    <div class="clear">
                    </div>
                    <p>
                        @(item.content)</p>
                </div>
            </li>
                }
            }
            else
            {
            <p>
                暂时无评论……
            </p>
            }
        }
    </ul>
</div>
<div class="clear">
</div>
<div class="" style="text-align: right;" id="PageList">
        @Html.AjaxPager(Model.TotalItemCount,Model.PageSize, Model.CurrentPageIndex,
        "HotelCommList",
        "Hotel",
        "hotelcommlist",
         new PagerOptions() { PageIndexParameterName = "pi", LastPageText = "尾页", FirstPageText = "首页", PrevPageText = "上一页", NextPageText = "下一页", CurrentPagerItemWrapperFormatString = "<span class=\"current\">{0}</span>" },
         new { id = ViewBag.hotelid },
        new AjaxOptions()
        {
            UpdateTargetId = "updateCommList",
            OnBegin = "",
            OnComplete = ""
        },
            null)
</div>
